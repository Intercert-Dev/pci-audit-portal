<div class="add-client-container">
  <div class="add-client-box">
    <div class="tabs">
      <button class="tab" [class.active]="activeTab === 'client-profile'" (click)="switchTab('client-profile', clientForm)">
        Client Profile
      </button>

      <button class="tab" [class.active]="activeTab === 'primary-contacts'" (click)="switchTab('primary-contacts', clientForm)">
        Primary Contacts
      </button>

      <button class="tab" [class.active]="activeTab === 'assessment-summary'" (click)="switchTab('assessment-summary', clientForm)">
        Assessment Summary
      </button>

      <button class="tab" [class.active]="activeTab === 'assessor-info'" (click)="switchTab('assessor-info', clientForm)">
        Assessor Information
      </button>

      <button class="tab" [class.active]="activeTab === 'scope-env'" (click)="switchTab('scope-env', clientForm)">
        Scope and Environment
      </button>

      <button class="tab" [class.active]="activeTab === 'compliance-results'" (click)="switchTab('compliance-results', clientForm)">
        Compliance Results
      </button>
    </div>


    <form #clientForm="ngForm" (ngSubmit)="onSubmit(clientForm)" class="client-form">
      <div class="tab-content" *ngIf="activeTab === 'client-profile'">
        <div class="form-row">
          <div class="form-group">
            <label>Legal Entity Name*</label>
            <input type="text" placeholder="Legal Entity Name" name="legalEntityName" required
              [(ngModel)]="clientData.legalEntityName" #legalEntityName="ngModel" />
            <div class="error" *ngIf="legalEntityName.invalid && (legalEntityName.touched || showErrors)">
              <small>Please enter Legal Entity Name.</small>
            </div>
          </div>
          <div class="form-group">
            <label>Trading/ Brand Name</label>
            <input type="text" placeholder="Trading/ Brand Name" name="brandName" [(ngModel)]="clientData.brandName" />
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Country*</label>
            <input type="text" placeholder="Country" name="country" required [(ngModel)]="clientData.country"
              #country="ngModel" />
            <div class="error" *ngIf="country.invalid && (country.touched || showErrors)">
              <small>Please enter Country.</small>
            </div>
          </div>

          <div class="form-group">
            <label>State*</label>
            <input type="text" placeholder="State" name="state" required [(ngModel)]="clientData.state"
              #state="ngModel" />
            <div class="error" *ngIf="state.invalid && (state.touched || showErrors)">
              <small>Please enter State.</small>
            </div>
          </div>

          <div class="form-group">
            <label>City*</label>
            <input type="text" placeholder="City" name="city" required [(ngModel)]="clientData.city" #city="ngModel" />
            <div class="error" *ngIf="city.invalid && (city.touched || showErrors)">
              <small>Please enter City.</small>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Street*</label>
            <input type="text" placeholder="Street" name="street" required [(ngModel)]="clientData.street"
              #street="ngModel" />
            <div class="error" *ngIf="street.invalid && (street.touched || showErrors)">
              <small>Please enter street.</small>
            </div>
          </div>

          <div class="form-group">
            <label>Zip Code*</label>
            <input type="text" placeholder="Zip Code" name="zipCode" required [(ngModel)]="clientData.zipCode"
              #zipCode="ngModel" />
            <div class="error" *ngIf="zipCode.invalid && (zipCode.touched || showErrors)">
              <small>Please enter Zip Code.</small>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Nature of Business</label>
            <input type="text" placeholder="Nature of Business" name="natureOfBusiness"
              [(ngModel)]="clientData.natureOfBusiness" />
          </div>
          <div class="form-group">
            <label>Website / Domain URL</label>
            <input type="text" placeholder="Website / Domain URL" name="website" [(ngModel)]="clientData.website" />
          </div>
          <div class="form-group">
            <label>Type of Business*</label>
            <input type="text" placeholder="Type of Business" name="typeOfBusiness" required
              [(ngModel)]="clientData.typeOfBusiness" #typeOfBusiness="ngModel" />
            <div class="error" *ngIf="typeOfBusiness.invalid && (typeOfBusiness.touched || showErrors)">
              <small>Please enter Type of Business.</small>
            </div>
          </div>
        </div>
        <div class="form-actions">
          <button type="button" class="btn-primary" (click)="saveAndContinue(clientForm)">
            <img src="/assets/icons/arrow_circle_down.png" alt="arrow_down">
            <span>Save and Continue</span>
          </button>
        </div>

      </div>
      <div class="tab-content" *ngIf="activeTab === 'primary-contacts'">
        <div class="form-row">
          <div class="form-group">
            <label>Name*</label>
            <input type="text" placeholder="Enter Name" name="primaryName" required [(ngModel)]="clientData.primaryName"
              #primaryName="ngModel" />
            <div class="error" *ngIf="primaryName.invalid && (primaryName.touched || showErrors)">
              <small>Please enter Name.</small>
            </div>
          </div>
          <div class="form-group">
            <label>Designation*</label>
            <input type="text" placeholder="Enter Designation" name="primaryDesignation" required
              [(ngModel)]="clientData.primaryDesignation" #primaryDesignation="ngModel" />
            <div class="error" *ngIf="primaryDesignation.invalid && (primaryDesignation.touched || showErrors)">
              <small>Please enter Designation.</small>
            </div>
          </div>
        </div>


        <div class="form-row">
          <div class="form-group">
            <label>Email*</label>
            <input type="email" placeholder="Enter Email" name="primaryEmail" required email
              [(ngModel)]="clientData.primaryEmail" #primaryEmail="ngModel" />
            <div class="error" *ngIf="primaryEmail.invalid && (primaryEmail.touched || showErrors)">
              <small *ngIf="primaryEmail.errors?.['required']">Please enter Email.</small>
              <small *ngIf="primaryEmail.errors?.['email']">Enter a valid email.</small>
            </div>

          </div>
          <div class="form-group">
            <label>Phone*</label>
            <input type="text" placeholder="Enter Phone Number" name="primaryPhone" required pattern="^[0-9()+-\s]*$"
              [(ngModel)]="clientData.primaryPhone" #primaryPhone="ngModel" />
            <div class="error" *ngIf="primaryPhone.invalid && (primaryPhone.touched || showErrors)">
              <small *ngIf="primaryPhone.errors?.['required']">Please enter Phone.</small>
              <small *ngIf="primaryPhone.errors?.['pattern']">Invalid phone format.</small>
            </div>

          </div>
        </div>


        <div class="form-row">
          <div class="form-group">
            <label>Technical Contacts</label>
            <input type="text" placeholder="Enter Technical Contact Name" name="technicalContact"
              [(ngModel)]="clientData.technicalContact" />
          </div>
          <div class="form-group">
            <label>Information Security Officer</label>
            <input type="text" placeholder="Enter Information Security Officer Name" name="iso"
              [(ngModel)]="clientData.iso" />
          </div>
        </div>


        <div class="form-row">
          <div class="form-group wide">
            <label>Client Signoff Authority*</label>
            <input type="text" placeholder="Enter Client Signoff Authority Name" name="clientSignoff" required
              [(ngModel)]="clientData.clientSignoff" #clientSignoff="ngModel" />
            <div class="error" *ngIf="clientSignoff.invalid && (clientSignoff.touched || showErrors)">
              <small>Please enter Client Signoff Authority.</small>
            </div>
          </div>
        </div>
        <div class="form-actions">
          <button type="button" class="go-back-btn" (click)="goBack()">
            <img src="/assets/icons/arrow_left_alt.png" alt="add_icon">
          </button>
          <button type="button" class="btn-primary" (click)="saveAndContinue(clientForm)">
            <img src="/assets/icons/arrow_circle_down.png" alt="arrow_down">
            <span>Save and Continue</span>
          </button>
        </div>
      </div>

      <div class="tab-content" *ngIf="activeTab === 'assessment-summary'">
        <div class="form-row">
          <div class="form-group">
            <label>Assessment/Project Name</label>
            <input type="text" placeholder="Assessment/Project Name" name="assessmentName"
              [(ngModel)]="clientData.assessmentName" />
          </div>
          <div class="form-group">
            <label>Assessment Type</label>
            <input type="text" placeholder="Assessment Type" name="assessmentType"
              [(ngModel)]="clientData.assessmentType" />
          </div>
          <div class="form-group">
            <label>Assessment Category</label>
            <input type="text" placeholder="Assessment Category" name="assessmentCategory"
              [(ngModel)]="clientData.assessmentCategory" />
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Assessment Year</label>
            <input type="date" placeholder="" />
          </div>
          <div class="form-group">
            <label>PCI DSS Version Applicable</label>
            <input type="text" placeholder="" />
          </div>
          <div class="form-group">
            <label>Assessment Period Covered</label>
            <input type="text" placeholder="" />
          </div>
        </div>

        <div class="form-row">

          <div class="form-group">
            <label>Audit Start Date*</label>
            <input type="date" name="auditStart" [(ngModel)]="clientData.auditStart" #auditStart="ngModel" required />
            <p class="error" *ngIf="auditStart.invalid && (auditStart.touched || showErrors)">
              Audit Start Date is required
            </p>
          </div>

          <div class="form-group">
            <label>Audit End Date*</label>
            <input type="date" name="auditEnd" [(ngModel)]="clientData.auditEnd" #auditEnd="ngModel" required />
            <p class="error" *ngIf="auditEnd.invalid && (auditEnd.touched || showErrors)">
              Audit End Date is required
            </p>
          </div>

          <div class="form-group">
            <label>Date of Report Submission</label>
            <input type="date" placeholder="" />
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Audit Status</label>
            <select>
              <option value="" disabled selected>Select Status</option>
              <option value="completed">Completed</option>
              <option value="in-progress">In Progress</option>
              <option value="not-started">Not Started</option>
            </select>
          </div>
          <div class="form-group">
            <label>Certificate Issue Date</label>
            <input type="date" placeholder="" />
          </div>
          <div class="form-group">
            <label>Certificate Expiry Date</label>
            <input type="date" placeholder="" />
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Certificate Number/Unique ID</label>
            <input type="text" placeholder="" />
          </div>
          <div class="form-group">
            <label>Next Audit Due Date</label>
            <input type="date" placeholder="" />
          </div>
          <div class="form-group">

          </div>
        </div>
        <div class="form-actions">
          <button type="button" class="go-back-btn" (click)="goBack()">
            <img src="/assets/icons/arrow_left_alt.png" alt="add_icon">
          </button>
          <button type="button" class="btn-primary" (click)="saveAndContinue(clientForm)">
            <img src="/assets/icons/arrow_circle_down.png" alt="arrow_down">
            <span>Save and Continue</span>
          </button>
        </div>
      </div>


      <div class="tab-content" *ngIf="activeTab === 'assessor-info'">
        <div class="form-row">
          <div class="form-group">
            <label>Name of QSA</label>
            <input type="text" placeholder="Name of QSA" />
          </div>
          <div class="form-group">
            <label>QSA License/Certificate Number</label>
            <input type="text" placeholder="QSA License/Certificate Number" />
          </div>
          <div class="form-group">
            <label>Audit Manager Reviewer Name
            </label>
            <input type="text" placeholder="Audit Manager Reviewer Name" />
          </div>
        </div>
        <div class="form-actions">
          <button type="button" class="go-back-btn" (click)="goBack()">
            <img src="/assets/icons/arrow_left_alt.png" alt="add_icon">
          </button>
          <button type="button" class="btn-primary" (click)="saveAndContinue(clientForm)">
            <img src="/assets/icons/arrow_circle_down.png" alt="arrow_down">
            <span>Save and Continue</span>
          </button>
        </div>
      </div>

      <div class="tab-content" *ngIf="activeTab === 'scope-env'">
        <div class="form-row">
          <div class="form-group">
            <label>Scope of Assessment</label>
            <input type="text" placeholder="Scope of Assessment" />
          </div>
          <div class="form-group">
            <label>Location in Scope</label>
            <input type="text" placeholder="Location in Scope" />
          </div>
        </div>
        <div class="form-actions">
          <button type="button" class="go-back-btn" (click)="goBack()">
            <img src="/assets/icons/arrow_left_alt.png" alt="add_icon">
          </button>

          <button type="button" class="btn-primary" (click)="saveAndContinue(clientForm)">
            <img src="/assets/icons/arrow_circle_down.png" alt="arrow_down">
            <span>Save and Continue</span>
          </button>
        </div>
      </div>

      <div class="tab-content" *ngIf="activeTab === 'compliance-results'">
        <div class="form-row">
          <div class="form-group">
            <label>Overall Compliance Status</label>
            <input type="text" placeholder="Overall Compliance Status" />
          </div>
          <div class="form-group">
            <label>Compensating Controls Used</label>
            <select>
              <option value="" disabled selected>Select Status</option>
              <option value="completed">Completed</option>
              <option value="in-progress">In Progress</option>
              <option value="not-started">Not Started</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Customized Approach Used</label>
            <select>
              <option value="" disabled selected>Select Status</option>
              <option value="completed">Completed</option>
              <option value="in-progress">In Progress</option>
              <option value="not-started">Not Started</option>
            </select>
          </div>

          <div class="form-group">
            <label>Non-Conformities/Gap</label>
            <input type="text" placeholder="Non-Conformities/Gap" />
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Identified</label>
            <input type="text" placeholder="Identified" />
          </div>
          <div class="form-group">
            <label>Remediation Target Date</label>
            <input type="date" placeholder="Remediation Target Date" />
          </div>
          <div class="form-group">
            <label>Revalidation Date</label>
            <input type="date" placeholder="Revalidation Date" />
          </div>
        </div>

        <div class="form-actions">
          <button type="button" class="go-back-btn" (click)="goBack()">
            <img src="/assets/icons/arrow_left_alt.png" alt="add_icon">
          </button>
          <button type="submit" class="btn-primary">
            <span>Submit</span>
          </button>
        </div>
      </div>

    </form>
  </div>
</div>
