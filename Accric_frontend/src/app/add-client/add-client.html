<div class="add-client-container">
  <div class="add-client-box">
    <div class="tabs">
      <button class="tab" [class.active]="activeTab === 'client-profile'" (click)="switchTab('client-profile')">
        Client Profile
      </button>
      <button class="tab" [class.active]="activeTab === 'primary-contacts'" (click)="switchTab('primary-contacts')">
        Primary Contacts
      </button>
    </div>

    <form #clientForm="ngForm" (ngSubmit)="onSubmit(clientForm)" class="client-form">
      <!-- CLIENT PROFILE TAB -->
      <div class="tab-content" *ngIf="activeTab === 'client-profile'">
        <div class="form-row">
          <div class="form-group">
            <label>Legal Entity Name*</label>
            <input type="text" name="legalEntityName" required [(ngModel)]="clientData.legalEntityName"
              #legalEntityName="ngModel" placeholder="Legal Entity Name" />
            <div class="error" *ngIf="legalEntityName.invalid && (legalEntityName.touched || showErrors)">
              <small>Please enter Legal Entity Name.</small>
            </div>
          </div>
          <div class="form-group">
            <label>Trading / Brand Name</label>
            <input type="text" name="brandName" [(ngModel)]="clientData.brandName" placeholder="Trading / Brand Name" />
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Country*</label>
            <input type="text" name="country" required [(ngModel)]="clientData.country" #country="ngModel"
              placeholder="Country" />
            <div class="error" *ngIf="country.invalid && (country.touched || showErrors)">
              <small>Please enter Country.</small>
            </div>
          </div>
          <div class="form-group">
            <label>State*</label>
            <input type="text" name="state" required [(ngModel)]="clientData.state" #state="ngModel"
              placeholder="State" />
            <div class="error" *ngIf="state.invalid && (state.touched || showErrors)">
              <small>Please enter State.</small>
            </div>
          </div>
          <div class="form-group">
            <label>City*</label>
            <input type="text" name="city" required [(ngModel)]="clientData.city" #city="ngModel" placeholder="City" />
            <div class="error" *ngIf="city.invalid && (city.touched || showErrors)">
              <small>Please enter City.</small>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Street*</label>
            <input type="text" name="street" required [(ngModel)]="clientData.street" #street="ngModel"
              placeholder="Street" />
            <div class="error" *ngIf="street.invalid && (street.touched || showErrors)">
              <small>Please enter Street.</small>
            </div>
          </div>
          <div class="form-group">
            <label>Zip Code*</label>
            <input type="text" name="zipCode" required [(ngModel)]="clientData.zipCode" #zipCode="ngModel"
              placeholder="Zip Code" />
            <div class="error" *ngIf="zipCode.invalid && (zipCode.touched || showErrors)">
              <small>Please enter Zip Code.</small>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Nature of Business</label>
            <input type="text" name="natureOfBusiness" [(ngModel)]="clientData.natureOfBusiness"
              placeholder="Nature of Business" />
          </div>
          <div class="form-group">
            <label>Website / Domain URL</label>
            <input type="text" name="website" [(ngModel)]="clientData.website" placeholder="Website / Domain URL" />
          </div>
          <div class="form-group">
            <label>Type of Business*</label>
            <input type="text" name="typeOfBusiness" required [(ngModel)]="clientData.typeOfBusiness"
              #typeOfBusiness="ngModel" placeholder="Type of Business" />
            <div class="error" *ngIf="typeOfBusiness.invalid && (typeOfBusiness.touched || showErrors)">
              <small>Please enter Type of Business.</small>
            </div>
          </div>
        </div>

        <div class="form-actions">
          <button type="button" class="btn-primary" (click)="saveAndContinue(clientForm)">
            <img src="/assets/icons/arrow_circle_down.png" alt="arrow_down" />
            <span>Save and Continue</span>
          </button>
        </div>
      </div>

      <!-- PRIMARY CONTACTS TAB -->
      <div class="tab-content" *ngIf="activeTab === 'primary-contacts'">
        <div class="form-row">
          <div class="form-group">
            <label>Name*</label>
            <input type="text" name="primaryName" required [(ngModel)]="clientData.primaryName" #primaryName="ngModel"
              placeholder="Enter Name" />
            <div class="error" *ngIf="primaryName.invalid && (primaryName.touched || showErrors)">
              <small>Please enter Name.</small>
            </div>
          </div>
          <div class="form-group">
            <label>Designation*</label>
            <input type="text" name="primaryDesignation" required [(ngModel)]="clientData.primaryDesignation"
              #primaryDesignation="ngModel" placeholder="Enter Designation" />
            <div class="error" *ngIf="primaryDesignation.invalid && (primaryDesignation.touched || showErrors)">
              <small>Please enter Designation.</small>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Email*</label>
            <input type="email" name="primaryEmail" required [(ngModel)]="clientData.primaryEmail"
              #primaryEmail="ngModel" placeholder="Enter Email" />
            <div class="error" *ngIf="primaryEmail.invalid && (primaryEmail.touched || showErrors)">
              <small *ngIf="primaryEmail.errors?.['required']">Please enter Email.</small>
              <small *ngIf="primaryEmail.errors?.['email']">Enter a valid email.</small>
            </div>
          </div>
          <div class="form-group">
            <label>Phone*</label>
            <input type="text" name="primaryPhone" required [(ngModel)]="clientData.primaryPhone"
              #primaryPhone="ngModel" placeholder="Enter Phone" />
            <div class="error" *ngIf="primaryPhone.invalid && (primaryPhone.touched || showErrors)">
              <small>Please enter Phone.</small>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Technical Contacts</label>
            <input type="text" name="technicalContact" [(ngModel)]="clientData.technicalContact"
              placeholder="Enter Technical Contacts" />
          </div>
          <div class="form-group">
            <label>Information Security Officer</label>
            <input type="text" name="informationSecurityOfficer" [(ngModel)]="clientData.informationSecurityOfficer"
              placeholder="Enter ISO" />
          </div>
          <div class="form-group">
            <label>Client Status</label>
            <select name="clientStatus" [(ngModel)]="clientData.clientStatus">
              <option value="" disabled selected>Select Status</option>
              <option value="ACTIVE">Active</option>
              <option value="SUSPENDED">Suspended</option>
            </select>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group wide">
            <label>Client Signoff Authority*</label>
            <input type="text" name="clientSignoff" required [(ngModel)]="clientData.clientSignoff"
              #clientSignoff="ngModel" placeholder="Enter Client Signoff Authority" />
            <div class="error" *ngIf="clientSignoff.invalid && (clientSignoff.touched || showErrors)">
              <small>Please enter Client Signoff Authority.</small>
            </div>
          </div>
        </div>

        <div class="form-actions">
          <button type="button" class="go-back-btn" (click)="goBack()">
            <img src="/assets/icons/arrow_left_alt.png" alt="add_icon" />
          </button>
          <button type="button" class="btn-primary" (click)="saveAndContinue(clientForm)">
            <img src="/assets/icons/arrow_circle_down.png" alt="arrow_down" />
            <span>Submit Client</span>
          </button>
        </div>
      </div>
    </form>
  </div>
</div>